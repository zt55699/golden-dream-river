<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金梦河：惠斯勒家庭划桨指南</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
        }
        .hero-section {
            background-image: url('https://uncoveringbc.com/wp-content/uploads/2021/08/River-of-Golden-Dreams-Whistler-Canoe-Trip-1024x768.jpg');
            background-size: cover;
            background-position: center;
        }
        .cta-button {
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .interactive-checklist li {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .interactive-checklist li.checked {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .interactive-checklist li:hover {
            background-color: #f3f4f6;
        }
        #map {
            height: 500px;
            width: 100%;
            border-radius: 1rem;
            background-color: #e5e7eb; /* Light gray background for the map area */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Hero Section -->
    <header class="hero-section text-white relative min-h-[60vh] md:min-h-[80vh] flex items-center justify-center">
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div class="relative z-10 text-center p-8">
            <h1 class="text-4xl md:text-6xl font-bold mb-4 tracking-tight" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.6);">金梦河家庭探险</h1>
            <p class="text-lg md:text-2xl max-w-3xl mx-auto" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">为您和家人（包括毛茸茸的朋友）量身定制的惠斯勒水上之旅</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">

        <!-- Family Paddling Section -->
        <section class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-16 border-t-4 border-teal-500">
            <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">带家人和宠物出游的特别提示</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- For the 3-year-old -->
                <div class="bg-blue-50 p-6 rounded-lg">
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-500 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd" /></svg>
                        <h3 class="text-2xl font-semibold text-blue-800">带3岁小朋友</h3>
                    </div>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li><strong>安全第一：</strong>请务必为孩子穿戴<strong>合身</strong>的儿童专用救生衣(PFD)。</li>
                        <li><strong>稳定性考量：</strong>单独的桨板(SUP)对于好动的孩子来说可能不够稳定。强烈建议租用一艘<strong>独木舟(Canoe)</strong>，空间更大、更平稳。</li>
                        <li><strong>保持趣味性：</strong>带上孩子最喜欢的零食和饮料，准备一些水上玩具，让旅程充满乐趣。</li>
                        <li><strong>注意防晒：</strong>儿童皮肤娇嫩，请使用高倍数防晒霜、宽檐帽和太阳镜。</li>
                    </ul>
                </div>
                <!-- For the dog -->
                <div class="bg-green-50 p-6 rounded-lg">
                    <div class="flex items-center mb-4">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-500 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>
                        <h3 class="text-2xl font-semibold text-green-800">带宠物狗</h3>
                    </div>
                     <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li><strong>租赁限制：</strong>几乎所有租赁公司都<strong>不允许</strong>携带宠物。自备桨板是最佳选择！</li>
                        <li><strong>狗狗救生衣：</strong>为您的爱犬准备一件合身的狗狗专用救生衣，尤其是如果它不常游泳。</li>
                        <li><strong>保持舒适：</strong>在桨板上为狗狗铺一块防滑垫或毛巾，让它有安全感。备足饮用水和水碗。</li>
                        <li><strong>尊重野生动物：</strong>用牵引绳控制好您的狗，避免它追逐水鸟或岸边的野生动物。</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Logistics Section -->
        <section class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-16">
            <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">后勤计划：自备桨板与车辆安排</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">
                拥有多辆车和自己的桨板是探索金梦河最灵活、最经济的方式！以下是“车辆穿梭”计划的分步指南：
            </p>
            <div class="flex flex-col md:flex-row gap-8 items-center">
                <div class="w-full md:w-1/2">
                    <ol class="list-decimal list-inside space-y-4 text-lg">
                        <li><strong>第一步：</strong>将所有人、所有桨板和装备装上<strong>所有车辆</strong>，一同开往<strong>终点</strong>：<a href="https://www.google.com/maps/place/Meadow+Park+Sports+Centre" target="_blank" class="text-blue-600 hover:underline">Meadow Park Sports Centre</a>。</li>
                        <li><strong>第二步：</strong>在终点附近的安全地点留下一辆或多辆车（这将是你们结束时的“接驳车”）。</li>
                        <li><strong>第三步：</strong>所有人挤上剩下的一辆车，带上所有装备，开往<strong>起点</strong>：阿尔塔湖旁的<a href="https://www.google.com/maps/place/Rainbow+Park" target="_blank" class="text-blue-600 hover:underline">彩虹公园 (Rainbow Park)</a>。</li>
                        <li><strong>第四步：</strong>在起点停车，卸下所有装备，开始你们的划桨之旅！</li>
                        <li><strong>第五步：</strong>到达终点后，司机乘坐预留在终点的车返回起点取车。</li>
                    </ol>
                </div>
                <div class="w-full md:w-1/2">
                    <img src="https://happiestoutdoors.ca/wp-content/uploads/2024/02/rogd_safety_map-1024x576.jpg.webp" alt="[金梦河路线安全地图]" class="rounded-xl shadow-md w-full h-auto object-cover">
                </div>
            </div>
        </section>

        <!-- Detailed Route Breakdown -->
        <section class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-16">
            <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">路线详解：水上之旅全体验</h2>
            <div class="space-y-8">
                <!-- Step 1: Alta Lake -->
                <div class="flex flex-col md:flex-row items-center gap-8">
                    <img src="https://i.pinimg.com/736x/77/ea/b5/77eab54de10114ba176e1f41f387967c--top-destinations-things-to-do-in.jpg" alt="[人们在阿尔塔湖上划桨板，背景是惠斯勒山和黑梳山]" class="w-full md:w-1/3 h-64 object-cover rounded-xl shadow-md">
                    <div>
                        <h3 class="text-2xl font-semibold mb-2 text-teal-600">第一站：从阿尔塔湖出发</h3>
                        <p class="text-gray-600 leading-relaxed">您的旅程始于美丽的阿尔塔湖。湖面开阔，是您适应船只、练习划桨的绝佳地点。从彩虹公园（Rainbow Park）下水，您将欣赏到惠斯勒山和黑梳山的壮丽全景。花点时间享受湖上的宁静，然后朝着湖的北端划去，寻找河流的入口。</p>
                    </div>
                </div>
                <!-- Step 2: The Winding River -->
                <div class="flex flex-col md:flex-row-reverse items-center gap-8">
                    <img src="https://sandinmysuitcase.com/wp-content/uploads/2022/01/SUP-Backroads-742x768.jpg" alt="[独木舟行驶在狭窄、植被茂盛的金梦河河道中]" class="w-full md:w-1/3 h-64 object-cover rounded-xl shadow-md">
                    <div>
                        <h3 class="text-2xl font-semibold mb-2 text-blue-600">第二站：进入蜿蜒的河道</h3>
                        <p class="text-gray-600 leading-relaxed">找到入口后，您将进入金梦河的核心河段。河道变窄，水流会轻轻地推着您前进。两岸是茂密的植被。放慢速度，仔细观察，您可能会发现海狸、水鸟，甚至在岸边看到黑熊。这是旅程中最神奇、最静谧的部分。</p>
                    </div>
                </div>
                 <!-- Step 3: Green Lake -->
                <div class="flex flex-col md:flex-row items-center gap-8">
                    <img src="https://media.gettyimages.com/id/660743552/photo/green-lake-in-whistler-british-columbia-canada.jpg?s=1024x1024&w=gi&k=20&c=zT9BIKjx3I6IXCRESv3VQQIDU52E1SwyxMzAvqDFidc=" alt="[绿湖翡翠色的湖水，远处是冰川覆盖的山脉]" class="w-full md:w-1/3 h-64 object-cover rounded-xl shadow-md">
                    <div>
                        <h3 class="text-2xl font-semibold mb-2 text-green-600">第三站：汇入绿湖并抵达终点</h3>
                        <p class="text-gray-600 leading-relaxed">穿过蜿蜒的河道后，您的视野将豁然开朗，汇入冰川融水形成的绿湖。湖水呈现出令人惊叹的翡翠色。这里的风可能会比河道里大，需要您更有力地划桨。您的终点是湖边的Meadow Park Sports Centre，在那里你们预留的车辆正在等着您。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Map Section -->
        <section class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-16">
            <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">交互式路线地图</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">
                使用此地图来探索路线。您可以缩放和平移地图，点击标记查看地点详情。
            </p>
            <div id="map" class="shadow-lg"></div>
        </section>

        <!-- Interactive Checklist Section -->
        <section class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-16">
            <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center">家庭探险准备清单</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-gray-700">个人与通用装备</h4>
                    <ul id="checklist-general" class="space-y-3 text-lg interactive-checklist">
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>桨板/独木舟、桨</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>成人救生衣 (PFD)</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>充足的饮用水和高能量零食</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>防晒霜、太阳镜</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>防水袋 (用于存放手机、车钥匙)</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>适合涉水的鞋子</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>快干衣物和备用保暖层</li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-gray-700">孩子与宠物专用</h4>
                     <ul id="checklist-family" class="space-y-3 text-lg interactive-checklist">
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span><strong>儿童专用救生衣 (必要!)</strong></li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>儿童宽檐帽和太阳镜</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>孩子最爱的零食和饮料</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span><strong>狗狗专用救生衣</strong></li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>狗狗饮用水和便携水碗</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>牵引绳和便便袋</li>
                        <li class="p-3 rounded-lg flex items-center"><span class="mr-3 text-green-500 opacity-0">✓</span>旧毛巾 (给狗狗擦干用)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="text-center bg-white p-8 md:p-12 rounded-2xl shadow-lg">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">准备好出发了吗？</h2>
            <p class="max-w-2xl mx-auto text-lg text-gray-600 mb-8">
                金梦河之旅是体验惠斯勒自然之美的最佳方式之一。立即开始计划您的探险，创造属于您的金色回忆！
            </p>
            <a href="https://www.whistler.com/weather/" target="_blank" class="cta-button inline-block bg-gradient-to-r from-teal-500 to-blue-600 text-white font-bold text-lg px-8 py-4 rounded-full shadow-lg">查看惠斯勒天气预报</a>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto p-8 text-center">
            <p>&copy; 2025 金梦河探索指南. 版权所有.</p>
            <p class="text-sm text-gray-400 mt-2">本页面根据 Happiest Outdoors 的内容进行重新设计和创作，并根据用户需求进行个性化定制。</p>
        </div>
    </footer>

    <script>
        // Interactive Checklist Logic
        const checklistItems = document.querySelectorAll('.interactive-checklist li');
        checklistItems.forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('checked');
                const checkmark = item.querySelector('span');
                checkmark.style.opacity = item.classList.contains('checked') ? '1' : '0';
            });
        });

        // Google Maps API Integration
        let userLocationMarker = null;
        let watchId = null;
        
        function initMap() {
            // Corrected and more detailed coordinates
            const startPoint = { lat: 50.1199914, lng: -122.9833144 }; // PRECISE Rainbow Park launch point
            const endPoint = { lat: 50.1441348, lng: -122.9599503 };   // PRECISE new end point
            
            const routePoints = [
                { lat: 50.1199914, lng: -122.9833144 }, // Start at Rainbow Park beach
                { lat: 50.1223643, lng: -122.9775402 },
                { lat: 50.1243752, lng: -122.9755849 },
                { lat: 50.1248004, lng: -122.9755581 },
                { lat: 50.1253872, lng: -122.9743990 },
                { lat: 50.1258222, lng: -122.9745838 },
                { lat: 50.1260922, lng: -122.9753184 },
                { lat: 50.1285812, lng: -122.9702828 },
                { lat: 50.1307483, lng: -122.9672137 },
                { lat: 50.1312104, lng: -122.9678645 },
                { lat: 50.1317174, lng: -122.9670494 },
                { lat: 50.1333323, lng: -122.9664788 },
                { lat: 50.1340630, lng: -122.9668634 },
                { lat: 50.1344125, lng: -122.9666096 },
                { lat: 50.1350009, lng: -122.9674907 },
                { lat: 50.1365131, lng: -122.9682856 },
                { lat: 50.1391479, lng: -122.9633728 },
                { lat: 50.1395713, lng: -122.9634868 },
                { lat: 50.1397599, lng: -122.9658213 },
                { lat: 50.1406996, lng: -122.9662143 },
                { lat: 50.1423374, lng: -122.9646569 },
                { lat: 50.1424792, lng: -122.9630680 },
                { lat: 50.1431750, lng: -122.9625604 },
                { lat: 50.1437454, lng: -122.9592516 },
                { lat: 50.1441348, lng: -122.9599503 }  // End at Meadow Park Sports Centre
            ];

            const mapElement = document.getElementById("map");
            mapElement.innerHTML = ''; 

            const map = new google.maps.Map(mapElement, {
                zoom: 14, 
                center: { lat: 50.132, lng: -122.97 }, // Adjusted center for better view
                mapTypeId: 'roadmap'
            });

            // Polyline with more points to accurately follow the waterway
            const routePath = new google.maps.Polyline({
                path: routePoints,
                geodesic: true,
                strokeColor: '#4285F4',
                strokeOpacity: 0.8,
                strokeWeight: 4,
            });

            routePath.setMap(map);

            const startMarker = new google.maps.Marker({
                position: startPoint,
                map: map,
                title: '起点: 彩虹公园 (Rainbow Park)',
                label: 'A'
            });

            const endMarker = new google.maps.Marker({
                position: endPoint,
                map: map,
                title: '终点: Meadow Park Sports Centre',
                label: 'B'
            });

            const infoWindowStart = new google.maps.InfoWindow({
                content: `<h4>起点: 彩虹公园</h4>
                          <p>从沙滩这里下水，开始您的旅程。</p>
                          <p><strong>Address:</strong> 5778 Alta Lake Rd, Whistler, BC</p>`
            });
            startMarker.addListener('click', () => {
                infoWindowStart.open(map, startMarker);
            });

            const infoWindowEnd = new google.maps.InfoWindow({
                content: `<h4>终点: Meadow Park Sports Centre</h4>
                          <p>在这里上岸，结束您的探险。</p>
                          <p><strong>Address:</strong> 8625 BC-99, Whistler, BC</p>`
            });
            endMarker.addListener('click', () => {
                infoWindowEnd.open(map, endMarker);
            });
            
            // Add geolocation functionality
            if (navigator.geolocation) {
                // Create a custom button for location tracking
                const locationButton = document.createElement('button');
                locationButton.textContent = '📍 显示我的位置';
                locationButton.classList.add('bg-white', 'hover:bg-gray-100', 'text-gray-800', 'font-semibold', 'py-2', 'px-4', 'border', 'border-gray-400', 'rounded', 'shadow', 'm-2');
                
                map.controls[google.maps.ControlPosition.TOP_RIGHT].push(locationButton);
                
                locationButton.addEventListener('click', () => {
                    // Request location permission and start tracking
                    if (watchId === null) {
                        watchId = navigator.geolocation.watchPosition(
                            (position) => {
                                const userPos = {
                                    lat: position.coords.latitude,
                                    lng: position.coords.longitude
                                };
                                
                                // Update or create user location marker
                                if (userLocationMarker) {
                                    userLocationMarker.setPosition(userPos);
                                } else {
                                    userLocationMarker = new google.maps.Marker({
                                        position: userPos,
                                        map: map,
                                        title: '您的位置',
                                        icon: {
                                            path: google.maps.SymbolPath.CIRCLE,
                                            scale: 10,
                                            fillColor: '#4285F4',
                                            fillOpacity: 1,
                                            strokeColor: '#ffffff',
                                            strokeWeight: 2
                                        },
                                        zIndex: 999
                                    });
                                    
                                    // Add pulsing animation effect
                                    const pulsingCircle = new google.maps.Circle({
                                        strokeColor: '#4285F4',
                                        strokeOpacity: 0.8,
                                        strokeWeight: 2,
                                        fillColor: '#4285F4',
                                        fillOpacity: 0.35,
                                        map: map,
                                        center: userPos,
                                        radius: 20
                                    });
                                    
                                    // Update pulsing circle position when marker moves
                                    google.maps.event.addListener(userLocationMarker, 'position_changed', function() {
                                        pulsingCircle.setCenter(userLocationMarker.getPosition());
                                    });
                                }
                                
                                // Center map on user location first time
                                if (locationButton.textContent === '📍 显示我的位置') {
                                    map.setCenter(userPos);
                                    map.setZoom(15);
                                    locationButton.textContent = '📍 停止追踪';
                                }
                            },
                            (error) => {
                                handleLocationError(true, map.getCenter(), error);
                            },
                            {
                                enableHighAccuracy: true,
                                timeout: 5000,
                                maximumAge: 0
                            }
                        );
                    } else {
                        // Stop tracking
                        navigator.geolocation.clearWatch(watchId);
                        watchId = null;
                        locationButton.textContent = '📍 显示我的位置';
                        
                        // Optionally remove the marker
                        if (userLocationMarker) {
                            userLocationMarker.setMap(null);
                            userLocationMarker = null;
                        }
                    }
                });
            }
        }
        
        function handleLocationError(browserHasGeolocation, pos, error) {
            const errorMessage = browserHasGeolocation
                ? `位置服务错误: ${error.message}`
                : '您的浏览器不支持地理位置服务。';
            
            const infoWindow = new google.maps.InfoWindow({
                content: errorMessage,
                position: pos
            });
            
            infoWindow.open(map);
        }
    </script>
    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD34rogilDRerCIr256FNHPMxd8phKmgcg&callback=initMap"></script>

</body>
</html>
